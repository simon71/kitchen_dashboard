<!DOCTYPE html>
<html>
<head>
<title>Magic Mirror</title>
<meta name="author" content="simon harvey">
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta http-equiv="content-style-type" content="stylesheet">
<meta http-equiv="expires" content="0">
<meta http-equiv="cache" content="no-cache">
<meta http-equiv="refresh" content="3600">
<Link rel="stylesheet" type="text/css" href="style.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
</head>
<body class="body">
	<div id="body" class="body">
		<div id="main" class="main">
			<div id="weather_table">
				<table class="weather_today">
						<th colspan="2">
							<script type="text/javascript">
								tday=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat");
								tmonth=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");

								function GetClock(){
								var d=new Date();
								var nday=d.getDay(),nmonth=d.getMonth(),ndate=d.getDate(),nyear=d.getYear();
								if(nyear<1000) nyear+=1900;
								var nhour=d.getHours(),nmin=d.getMinutes(),nsec=d.getSeconds(),ap;

								if(nhour==0){ap=" AM";nhour=12;}
								else if(nhour<12){ap=" AM";}
								else if(nhour==12){ap=" PM";}
								else if(nhour>12){ap=" PM";nhour-=12;}

								if(nmin<=9) nmin="0"+nmin;
								if(nsec<=9) nsec="0"+nsec;

								document.getElementById('clock').innerHTML=""+tday[nday]+" "+ndate+" "+tmonth[nmonth]+" "+nhour+":"+nmin+" ";
								document.getElementById('am_pm').innerHTML=ap;

								}

								window.onload=function(){
								GetClock();
								setInterval(GetClock,1000);
								}

								</script>
								<div id="clock" class="time"></div><div id="am_pm" class="time_am_pm"></div>
						</th>
					<tr>
						<td id='present_temp'>
							<script>
							// var presentHour(){
							// 	var h=new Date();
							// 	var hour=h.GetHours();

							$.getJSON("weather_data_post.json", function(data){
								if (key == hour){
										$('td').append("<td>"+key+"</td>");
									}
								});
							</script>
						</td>

						<td>mid right</td>
					</tr>
					<tr>
						<td>bottom left</td>
						<td>bottom right</td>
					</tr>
				</table>
			</div>
		</div>
		<div id="weather_main" class="weather">
				<table>
					<tbody>
							<tr1 class="post"></tr1>
							<tr2 class="pre"></tr2>
					</tbody>
				</table>
		</div>
	</div>
		<script>
		$.getJSON("weather_data_post.json", function(data){
			$.each(data, function(key,val){
					$('tr1').append("<td>"+key+"</br>"+"<img src='Images\\"+val[1]+"'>"+"</td>");
			});
		});
		$.getJSON("weather_data_pre.json", function(data){
			$.each(data, function(key,val){
					$('tr2').append("<td>"+key+"</br>"+"<img src='Images\\"+val[1]+"'>"+"</td>");
			});
		});
		$.getJSON("weather_data_tomorrow_post.json", function(data){
			$.each(data, function(key,val){
					$('tr2').append("<td>"+key+"</br>"+"<img src='Images\\"+val[1]+"'>"+"</td>");
			});
		});
		</script>
</body>

</html>
